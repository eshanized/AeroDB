<script setup lang="ts">
import { RouterLink } from 'vue-router'
import { useUIStore } from '@/stores/ui'

defineProps<{
  open: boolean
}>()

const uiStore = useUIStore()

const navItems = [
  { to: '/', label: 'Home', icon: 'ğŸ ' },
  { to: '/database', label: 'Database', icon: 'ğŸ—„ï¸' },
  { to: '/auth', label: 'Auth', icon: 'ğŸ‘¥' },
  { to: '/storage', label: 'Storage', icon: 'ğŸ“¦' },
  { to: '/functions', label: 'Functions', icon: 'âš™ï¸' },
  { to: '/realtime', label: 'Real-Time', icon: 'âš¡' },
  { to: '/cluster', label: 'Cluster', icon: 'ğŸ–¥ï¸' },
  { to: '/backup', label: 'Backup', icon: 'ğŸ’¾' },
  { to: '/snapshots', label: 'Snapshots', icon: 'ğŸ“¸' },
  { to: '/logs', label: 'Logs', icon: 'ğŸ“‹' },
  { to: '/metrics', label: 'Metrics', icon: 'ğŸ“Š' },
]
</script>

<template>
  <aside 
    :class="[
      'bg-card border-r border-border transition-all duration-200 flex flex-col',
      open ? 'w-64' : 'w-16'
    ]"
  >
    <div class="p-4 border-b border-border flex items-center justify-between">
      <h1 v-if="open" class="text-xl font-bold">AeroDB</h1>
      <button
        @click="uiStore.toggleSidebar"
        class="p-2 rounded hover:bg-secondary"
        :title="open ? 'Collapse sidebar' : 'Expand sidebar'"
      >
        <span v-if="open">-</span>
        <span v-else">â˜°</span>
      </button>
    </div>
    
    <nav class="flex-1 p-4 space-y-2 overflow-y-auto">
      <RouterLink
        v-for="item in navItems"
        :key="item.to"
        :to="item.to"
        class="flex items-center gap-3 px-3 py-2 rounded hover:bg-secondary transition-colors"
        active-class="bg-secondary"
      >
        <span class="text-xl">{{ item.icon }}</span>
        <span v-if="open" class="text-sm">{{ item.label }}</span>
      </RouterLink>
    </nav>
  </aside>
</template>

<style scoped>
</style>
